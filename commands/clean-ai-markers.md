---
name: clean-ai-markers
description: Remove AI attribution markers from files and git history
allowed-tools:
  - Read
  - Write
  - Edit
  - Bash
  - Glob
  - Grep
argument-hint: "[file or directory path, or 'git' for commit history]"
---

# Clean AI Markers Command

Remove AI attribution markers from the specified files, directory, or git commit history.

## Arguments

- **File path**: Clean a specific file
- **Directory path**: Scan and clean all files in directory
- **`git`**: Clean recent git commit messages
- **No argument**: Scan current directory

## Patterns to Remove

### In Code Files
- `// Generated by AI` or `# Generated by AI`
- `// Claude generated` or `# Claude generated`
- `// AI-generated` or `# AI-generated`
- Comments mentioning "automated", "auto-generated" in AI context
- Excessive boilerplate documentation that appears AI-generated

### In Git Commits
- `ðŸ¤– Generated with Claude Code` footer
- `Co-Authored-By: Claude` headers
- References to `@anthropic.com` emails

## Execution Steps

1. If argument is `git`:
   - Use `git log --oneline -20` to show recent commits
   - Identify commits with AI markers
   - Warn user that rewriting history is destructive
   - Ask for confirmation before proceeding
   - Use `git rebase -i` or `git commit --amend` to clean

2. If argument is a file:
   - Read the file
   - Identify AI marker comments
   - Remove them using Edit tool
   - Report what was removed

3. If argument is a directory or no argument:
   - Use Glob to find code files (*.js, *.ts, *.py, *.java, *.go, *.rs, *.c, *.cpp, *.h, *.cs, *.rb, *.php, *.swift, *.kt, *.scala, *.sh, *.ps1)
   - Use Grep to find files containing AI markers
   - Clean each file
   - Provide summary of changes

## Output

Report:
- Number of files scanned
- Number of files modified
- Specific markers removed
- Any files that couldn't be processed

## Important Notes

- Always create a backup recommendation before modifying git history
- For git history cleaning, warn about force push requirements
- Do not modify files in node_modules, .git, or other dependency directories
